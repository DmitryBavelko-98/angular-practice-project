<form 
    [ngClass]="{'hide-form': !user}"
    [formGroup]="form" 
    (submit)="sendUserData()">
    
    <div class="forms">
        <div class="user-info">
            <h2>User info</h2>
            <app-user-info-form [userId]="user.id || null" (formReady)="addFormControl($event, 'user')"></app-user-info-form>
        </div>

        <div class="user-addresses">
            <h2>Addresses</h2>
            <app-addresses-list [initialAddresses]="addresses" (formReady)="addFormControl($event, 'addresses')"></app-addresses-list>
        </div>
    </div>

    <button 
        mat-raised-button 
        color="primary">
    Save user</button>
</form>

<mat-spinner *ngIf="!user"></mat-spinner>
